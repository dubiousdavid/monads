<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>monads.state documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Monads 0.2.0 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>monads</span></div></div></li><li class="depth-2 branch"><a href="monads.either.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>either</span></div></a></li><li class="depth-2 branch"><a href="monads.maybe.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>maybe</span></div></a></li><li class="depth-2 branch"><a href="monads.reader.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>reader</span></div></a></li><li class="depth-2 branch current"><a href="monads.state.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>state</span></div></a></li><li class="depth-2"><a href="monads.writer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>writer</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="monads.state.html#var-ask"><div class="inner"><span>ask</span></div></a></li><li class="depth-1"><a href="monads.state.html#var-asks"><div class="inner"><span>asks</span></div></a></li><li class="depth-1"><a href="monads.state.html#var-chain-state"><div class="inner"><span>chain-state</span></div></a></li><li class="depth-1"><a href="monads.state.html#var-eval-state"><div class="inner"><span>eval-state</span></div></a></li><li class="depth-1"><a href="monads.state.html#var-exec-state"><div class="inner"><span>exec-state</span></div></a></li><li class="depth-1"><a href="monads.state.html#var-inspect"><div class="inner"><span>inspect</span></div></a></li><li class="depth-1"><a href="monads.state.html#var-return-state"><div class="inner"><span>return-state</span></div></a></li><li class="depth-1"><a href="monads.state.html#var-return-stateE"><div class="inner"><span>return-stateE</span></div></a></li><li class="depth-1"><a href="monads.state.html#var-return-stateM"><div class="inner"><span>return-stateM</span></div></a></li><li class="depth-1"><a href="monads.state.html#var-run-state"><div class="inner"><span>run-state</span></div></a></li><li class="depth-1"><a href="monads.state.html#var-set-state"><div class="inner"><span>set-state</span></div></a></li><li class="depth-1"><a href="monads.state.html#var-state-.3E"><div class="inner"><span>state-&gt;</span></div></a></li><li class="depth-1"><a href="monads.state.html#var-state-tuple"><div class="inner"><span>state-tuple</span></div></a></li><li class="depth-1"><a href="monads.state.html#var-stateE-.3E"><div class="inner"><span>stateE-&gt;</span></div></a></li><li class="depth-1"><a href="monads.state.html#var-statefn"><div class="inner"><span>statefn</span></div></a></li><li class="depth-1"><a href="monads.state.html#var-stateM-.3E"><div class="inner"><span>stateM-&gt;</span></div></a></li><li class="depth-1"><a href="monads.state.html#var-update-state"><div class="inner"><span>update-state</span></div></a></li><li class="depth-1"><a href="monads.state.html#var-wrap-state-either"><div class="inner"><span>wrap-state-either</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">monads.state</h2><div class="doc"><pre class="plaintext">Pass an updatable state through a computation.
</pre></div><div class="public anchor" id="var-ask"><h3>ask</h3><div class="usage"><code>(ask)</code></div><div class="doc"><pre class="plaintext">Get the current state.
</pre></div><div class="src-link"><a href="https://github.com/dubiousdavid/monads/blob/mastersrc/monads/state.clj#L14">view source</a></div></div><div class="public anchor" id="var-asks"><h3>asks</h3><div class="usage"><code>(asks f)</code></div><div class="doc"><pre class="plaintext">Apply f to the current state, and return the result.
State is unmodified.</pre></div><div class="src-link"><a href="https://github.com/dubiousdavid/monads/blob/mastersrc/monads/state.clj#L19">view source</a></div></div><div class="public anchor" id="var-chain-state"><h3>chain-state</h3><h4 class="type">macro</h4><div class="usage"><code>(chain-state &amp; args)</code></div><div class="doc"><pre class="plaintext">Chain multiple stateful computations together, discarding
the value along the way.</pre></div><div class="src-link"><a href="https://github.com/dubiousdavid/monads/blob/mastersrc/monads/state.clj#L60">view source</a></div></div><div class="public anchor" id="var-eval-state"><h3>eval-state</h3><div class="usage"><code>(eval-state state-fn init-state)</code></div><div class="doc"><pre class="plaintext">Run a stateful computation with init-state.
Returns the final value sans the final state.</pre></div><div class="src-link"><a href="https://github.com/dubiousdavid/monads/blob/mastersrc/monads/state.clj#L76">view source</a></div></div><div class="public anchor" id="var-exec-state"><h3>exec-state</h3><div class="usage"><code>(exec-state state-fn init-state)</code></div><div class="doc"><pre class="plaintext">Run a stateful computation with init-state.
Returns the final state.</pre></div><div class="src-link"><a href="https://github.com/dubiousdavid/monads/blob/mastersrc/monads/state.clj#L82">view source</a></div></div><div class="public anchor" id="var-inspect"><h3>inspect</h3><div class="usage"><code>(inspect state)</code></div><div class="doc"><pre class="plaintext">Place anywhere in a set of routes to have the current
state printed.  Has no effect otherwise.</pre></div><div class="src-link"><a href="https://github.com/dubiousdavid/monads/blob/mastersrc/monads/state.clj#L88">view source</a></div></div><div class="public anchor" id="var-return-state"><h3>return-state</h3><div class="usage"><code>(return-state v)</code></div><div class="doc"><pre class="plaintext">Wrap a value in a state context.
</pre></div><div class="src-link"><a href="https://github.com/dubiousdavid/monads/blob/mastersrc/monads/state.clj#L37">view source</a></div></div><div class="public anchor" id="var-return-stateE"><h3>return-stateE</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dubiousdavid/monads/blob/mastersrc/monads/state.clj#L107">view source</a></div></div><div class="public anchor" id="var-return-stateM"><h3>return-stateM</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dubiousdavid/monads/blob/mastersrc/monads/state.clj#L133">view source</a></div></div><div class="public anchor" id="var-run-state"><h3>run-state</h3><div class="usage"><code>(run-state state-fn init-state)</code></div><div class="doc"><pre class="plaintext">Run a stateful computation with init-state.
Returns the final value/state pair.</pre></div><div class="src-link"><a href="https://github.com/dubiousdavid/monads/blob/mastersrc/monads/state.clj#L70">view source</a></div></div><div class="public anchor" id="var-set-state"><h3>set-state</h3><div class="usage"><code>(set-state state)</code></div><div class="doc"><pre class="plaintext">Overwrite the current state.
</pre></div><div class="src-link"><a href="https://github.com/dubiousdavid/monads/blob/mastersrc/monads/state.clj#L25">view source</a></div></div><div class="public anchor" id="var-state-.3E"><h3>state-&gt;</h3><h4 class="type">macro</h4><div class="usage"><code>(state-&gt; bindings body)</code></div><div class="doc"><pre class="plaintext">Takes a vector of bindings and a final body.  State will
be passed to each value on the righthand side of the
bindings vector, and to the final body value.</pre></div><div class="src-link"><a href="https://github.com/dubiousdavid/monads/blob/mastersrc/monads/state.clj#L48">view source</a></div></div><div class="public anchor" id="var-state-tuple"><h3>state-tuple</h3><div class="usage"><code>(state-tuple)</code><code>(state-tuple state)</code><code>(state-tuple val state)</code></div><div class="doc"><pre class="plaintext">Returns a state tuple give no value, a value, or a value
and some state. Serves as a more explicit indication of state
than a simple vector pair.</pre></div><div class="src-link"><a href="https://github.com/dubiousdavid/monads/blob/mastersrc/monads/state.clj#L6">view source</a></div></div><div class="public anchor" id="var-stateE-.3E"><h3>stateE-&gt;</h3><h4 class="type">macro</h4><div class="usage"><code>(stateE-&gt; bindings body)</code></div><div class="doc"><pre class="plaintext">Like state-&gt; except the value should be an Either.
Execution will stop when the first [:err ...] value is encountered.</pre></div><div class="src-link"><a href="https://github.com/dubiousdavid/monads/blob/mastersrc/monads/state.clj#L109">view source</a></div></div><div class="public anchor" id="var-statefn"><h3>statefn</h3><h4 class="type">macro</h4><div class="usage"><code>(statefn bindings &amp; body)</code></div><div class="doc"><pre class="plaintext">Create a state function. Automatically propagates state.
Useful if you only want to read the state and not modify
it.</pre></div><div class="src-link"><a href="https://github.com/dubiousdavid/monads/blob/mastersrc/monads/state.clj#L95">view source</a></div></div><div class="public anchor" id="var-stateM-.3E"><h3>stateM-&gt;</h3><h4 class="type">macro</h4><div class="usage"><code>(stateM-&gt; bindings body)</code></div><div class="doc"><pre class="plaintext">Like state-&gt; except the value should be a Maybe.
Execution will stop when the first nil value is encountered.</pre></div><div class="src-link"><a href="https://github.com/dubiousdavid/monads/blob/mastersrc/monads/state.clj#L135">view source</a></div></div><div class="public anchor" id="var-update-state"><h3>update-state</h3><div class="usage"><code>(update-state f)</code><code>(update-state f &amp; args)</code></div><div class="doc"><pre class="plaintext">Apply f and args to the current state.
</pre></div><div class="src-link"><a href="https://github.com/dubiousdavid/monads/blob/mastersrc/monads/state.clj#L30">view source</a></div></div><div class="public anchor" id="var-wrap-state-either"><h3>wrap-state-either</h3><div class="usage"><code>(wrap-state-either state-fn)</code></div><div class="doc"><pre class="plaintext">Takes a state fn and creates a new state fn where the
value returned is wrapped in an [:ok ...].</pre></div><div class="src-link"><a href="https://github.com/dubiousdavid/monads/blob/mastersrc/monads/state.clj#L125">view source</a></div></div></div></body></html>